{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Provider E2E Test Secrets",
  "description": "Configuration for provider E2E tests with real API credentials",
  "type": "object",
  "properties": {
    "taskPrompt": {
      "type": "string",
      "description": "The task prompt to use for E2E tests",
      "default": "Say 'Hello from E2E test' and nothing else."
    },
    "providers": {
      "type": "object",
      "description": "Provider credentials keyed by config key",
      "properties": {
        "anthropic": {
          "$ref": "#/definitions/apiKeySecrets"
        },
        "openai": {
          "$ref": "#/definitions/apiKeySecrets"
        },
        "google": {
          "$ref": "#/definitions/apiKeySecrets"
        },
        "xai": {
          "$ref": "#/definitions/apiKeySecrets"
        },
        "deepseek": {
          "$ref": "#/definitions/apiKeySecrets"
        },
        "moonshot": {
          "$ref": "#/definitions/apiKeySecrets"
        },
        "minimax": {
          "$ref": "#/definitions/apiKeySecrets"
        },
        "openrouter": {
          "$ref": "#/definitions/apiKeySecrets"
        },
        "zai": {
          "$ref": "#/definitions/zaiSecrets"
        },
        "bedrock-api-key": {
          "$ref": "#/definitions/bedrockApiKeySecrets"
        },
        "bedrock-access-keys": {
          "$ref": "#/definitions/bedrockAccessKeySecrets"
        },
        "bedrock-profile": {
          "$ref": "#/definitions/bedrockProfileSecrets"
        },
        "azure-foundry-api-key": {
          "$ref": "#/definitions/azureApiKeySecrets"
        },
        "azure-foundry-entra-id": {
          "$ref": "#/definitions/azureEntraIdSecrets"
        },
        "ollama": {
          "$ref": "#/definitions/serverUrlSecrets"
        },
        "lmstudio": {
          "$ref": "#/definitions/serverUrlSecrets"
        },
        "litellm": {
          "$ref": "#/definitions/serverUrlWithKeySecrets"
        }
      },
      "additionalProperties": false
    }
  },
  "definitions": {
    "apiKeySecrets": {
      "type": "object",
      "properties": {
        "apiKey": {
          "type": "string",
          "description": "The API key for this provider"
        }
      },
      "required": ["apiKey"]
    },
    "zaiSecrets": {
      "type": "object",
      "properties": {
        "apiKey": {
          "type": "string",
          "description": "The Z.AI API key"
        },
        "region": {
          "type": "string",
          "enum": ["china", "international"],
          "description": "The Z.AI region"
        }
      },
      "required": ["apiKey"]
    },
    "bedrockApiKeySecrets": {
      "type": "object",
      "properties": {
        "apiKey": {
          "type": "string",
          "description": "The Bedrock API key"
        },
        "region": {
          "type": "string",
          "description": "AWS region (e.g., us-east-1)"
        }
      },
      "required": ["apiKey"]
    },
    "bedrockAccessKeySecrets": {
      "type": "object",
      "properties": {
        "accessKeyId": {
          "type": "string",
          "description": "AWS Access Key ID"
        },
        "secretAccessKey": {
          "type": "string",
          "description": "AWS Secret Access Key"
        },
        "sessionToken": {
          "type": ["string", "null"],
          "description": "AWS Session Token (for temporary credentials)"
        },
        "region": {
          "type": "string",
          "description": "AWS region (e.g., us-east-1)"
        }
      },
      "required": ["accessKeyId", "secretAccessKey"]
    },
    "bedrockProfileSecrets": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string",
          "description": "AWS profile name from ~/.aws/credentials"
        },
        "region": {
          "type": "string",
          "description": "AWS region (e.g., us-east-1)"
        }
      },
      "required": ["profileName"]
    },
    "azureApiKeySecrets": {
      "type": "object",
      "properties": {
        "endpoint": {
          "type": "string",
          "description": "Azure OpenAI endpoint URL"
        },
        "deploymentName": {
          "type": "string",
          "description": "Azure deployment name"
        },
        "apiKey": {
          "type": "string",
          "description": "Azure API key"
        }
      },
      "required": ["endpoint", "deploymentName", "apiKey"]
    },
    "azureEntraIdSecrets": {
      "type": "object",
      "properties": {
        "endpoint": {
          "type": "string",
          "description": "Azure OpenAI endpoint URL"
        },
        "deploymentName": {
          "type": "string",
          "description": "Azure deployment name"
        }
      },
      "required": ["endpoint", "deploymentName"]
    },
    "serverUrlSecrets": {
      "type": "object",
      "properties": {
        "serverUrl": {
          "type": "string",
          "description": "Server URL for local providers"
        }
      },
      "required": ["serverUrl"]
    },
    "serverUrlWithKeySecrets": {
      "type": "object",
      "properties": {
        "serverUrl": {
          "type": "string",
          "description": "Server URL"
        },
        "apiKey": {
          "type": ["string", "null"],
          "description": "Optional API key"
        }
      },
      "required": ["serverUrl"]
    }
  }
}
